---
title: "Draft"
author: "David Gohel"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Importation de l'ensemble des jeux de données

Le répertoire des jeux de données CSV est utilisé comme entrée de la fonction `import_load_db`. 

```{r cache=TRUE}
library(antadraft)
load_db <- import_load_db("D:/transparency_repo/staging_area/incoming/A-CONSOMMATION/A01-Consommation_réalisée")
summary(load_db)
tabplot::tableplot(load_db)
```

## Consolidation des données

La fonction implémente pour l'instant les règles implémentées par Fabiola.

```{r}
db <- fortify_load_db(load_data = load_db )
summary(db)
tabplot::tableplot(db)
```

## Représentation des séries

```{r}
library(ggplot2)
ggplot(db, mapping = aes(x = datetime, y = load_value)) + 
  geom_line() + theme_minimal() +
  facet_wrap(~ id_area, scales = "free_y") 
```

